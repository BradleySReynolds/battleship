(()=>{"use strict";var __webpack_modules__={498:(e,t,r)=>{function i(){let e=[];for(let t=0;t<10;t++){let t=[];for(let e=0;e<10;e++)t.push("o");e.push(t)}return e}r.d(t,{Z:()=>i})},507:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Player});var _gameboard__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(498),_ship__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(643);class Player{constructor(){this.board=(0,_gameboard__WEBPACK_IMPORTED_MODULE_0__.Z)(),this.ships=[new _ship__WEBPACK_IMPORTED_MODULE_1__.Z("Carrier",5),new _ship__WEBPACK_IMPORTED_MODULE_1__.Z("Battleship",4),new _ship__WEBPACK_IMPORTED_MODULE_1__.Z("Destroyer",3),new _ship__WEBPACK_IMPORTED_MODULE_1__.Z("Submarine",3),new _ship__WEBPACK_IMPORTED_MODULE_1__.Z("Patrol Boat",2)],this.hits=0,this.iterator=0,this.invert="horizontal",this.instruct=document.querySelector(".player-instruct"),this.playerSquares=null,this.showComputerBoard=document.querySelector(".computer-container"),this.invertBtn=document.querySelector(".invert")}boardLogic(x,y,value,invert=this.invert,iterator=this.iterator){if(5===iterator)return 0;let condition;if("horizontal"===invert){condition=y+this.ships[iterator].length>9?"-":"+";for(let i=0;i<this.ships[iterator].length;i++)"placed"!==this.board[x][eval(`${y}${condition}${i}`)]&&(this.board[x][eval(`${y}${condition}${i}`)]=value)}else{condition=x+this.ships[iterator].length>9?"-":"+";for(let i=0;i<this.ships[iterator].length;i++)"placed"!==this.board[eval(`${x}${condition}${i}`)][y]&&(this.board[eval(`${x}${condition}${i}`)][y]=value)}}isHit(){this.hits++}findXandY(e){return[Number(e.getAttribute("x")),Number(e.getAttribute("y"))]}iteratorLogic(e=this.iterator){e>=5&&(this.playerSquares.forEach((e=>{e.style.pointerEvents="none"})),this.showComputerBoard.style.display="flex",this.instruct.remove(),this.invertBtn.remove()),e<5&&(this.instruct.textContent=`Place your ${this.ships[e].name}`)}placeShips(e=this.invertBtn){const t=e=>{let t=e.target,[r,i]=this.findXandY(t);this.boardLogic(r,i,"hovered"),this.renderBoard()},r=e=>{let t=e.target,[r,i]=this.findXandY(t);this.boardLogic(r,i,"exit"),this.renderBoard()},i=e=>{let t=e.target,[r,i]=this.findXandY(t);this.boardLogic(r,i,"placed"),this.renderBoard(),this.iterator++,this.iteratorLogic()};this.playerSquares.forEach((e=>{e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",r),e.addEventListener("click",i)})),e.addEventListener("click",(()=>{this.invert="horizontal"===this.invert?"vertical":"horizontal",e.textContent=`${this.invert}`}))}renderBoard(e=this.playerSquares){const t={hovered:"ship-hit",placed:"ship-placed",exit:"ship-empty"};this.board.flat().forEach(((r,i)=>{const o=e[i],s=t[r];o.classList.remove("ship-placed","ship-hit","ship-empty"),o.classList.add(s),"placed"===r&&(o.textContent="x")}))}}},643:(e,t,r)=>{r.d(t,{Z:()=>i});class i{constructor(e,t){this.name=e,this.length=t,this.location=[]}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{var e=__webpack_require__(498),t=__webpack_require__(643);class r{constructor(){this.board=(0,e.Z)(),this.ships=[new t.Z("Carrier",5),new t.Z("Battleship",4),new t.Z("Destroyer",3),new t.Z("Submarine",3),new t.Z("Patrol Boat",2)],this.hits=0}positionShips(){this.ships.forEach((e=>{let t,r,i,o=!1;e:for(;!o;){if(i=Math.floor(2*Math.random()),t=Math.floor(10*Math.random()),r=Math.floor(10*Math.random()),0===i){if(t+e.length>9){for(let i=e.length;i>0;i--)if("x"===this.board[r][t-i])continue e}else for(let i=0;i<e.length;i++)if(e.location.push([t+i,r]),"x"===this.board[r][t+i])continue e}else if(r+e.length>9){for(let i=e.length;i>0;i--)if("x"===this.board[r-i][t])continue e}else for(let i=0;i<e.length;i++)if("x"===this.board[r+i][t])continue e;o=!0}if(0===i)if(t+e.length>9)for(let i=e.length;i>0;i--)e.location.push([t-i,r]),this.board[r][t-i]="x";else for(let i=0;i<e.length;i++)e.location.push([t+i,r]),this.board[r][t+i]="x";else if(r+e.length>9)for(let i=e.length;i>0;i--)e.location.push([t,r-i]),this.board[r-i][t]="x";else for(let i=0;i<e.length;i++)e.location.push([t,r+i]),this.board[r+i][t]="x"}))}isHit(){this.hits++}}var i=__webpack_require__(507);class o{constructor(e,t){this.player=e,this.computer=t,this.turn=!0,this.gameover=!1,this.computerMoves=[],this.winner=null,this.playAgain=null}checkwin(){17!==this.player.hits&&17!==this.computer.hits||(this.winner=17===this.player.hits?"Computer":"Player",this.gameover=!0),!0===this.gameover&&(document.body.innerHTML="",document.body.innerHTML=`\n      <div class="winner-container">\n        <p class='winner-text'>${this.winner} wins!</p>\n        <button class="winner-btn">Play Again</button>\n      </div>`,this.playAgain=document.querySelector(".winner-btn"),this.playAgain.addEventListener("click",(()=>{location.reload()})))}getRands(){return[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}computerMove(){if(!1===this.gameover){const e=document.querySelectorAll(".player-square");let[t,r]=this.getRands();if(this.computerMoves.includes(JSON.stringify([t,r])))this.computerMove();else{let i="placed"===this.player.board[r][t]?"hit":"miss";"hit"===i&&this.player.isHit(),this.player.board[r][t]=`${i}`,this.player.board.flat().forEach(((t,r)=>{"hit"===t?(e[r].style.textContent="x",e[r].style.color="red"):"miss"===t&&(e[r].style.textContent="o",e[r].style.color="black")})),this.computerMoves.push(JSON.stringify([t,r]))}}}}!function(){const e=document.querySelector(".computer-board"),t=document.querySelector(".player-board"),s=new r,a=new i.Z,n=new o(a,s);a.board.forEach(((e,r)=>e.forEach(((e,i)=>{let o=document.createElement("div");o.classList.add("player-square"),o.setAttribute("x",r),o.setAttribute("y",i),o.textContent=a.board[r][i],t.append(o)})))),a.playerSquares=document.querySelectorAll(".player-square"),a.placeShips(),s.positionShips(),s.board.forEach(((t,r)=>t.forEach(((t,i)=>{let o=document.createElement("div");o.classList.add("square"),o.textContent=s.board[r][i],e.append(o)}))));const h=document.querySelectorAll(".square"),l=document.querySelectorAll(".player-square");h.forEach((e=>{e.addEventListener("click",(function e(t){"x"===t.target.textContent?(t.target.style.color="red",s.isHit()):t.target.style.color="black",n.checkwin(),n.computerMove(),n.checkwin(),a.renderBoard(l),t.target.removeEventListener("click",e)}))}))}()})()})();